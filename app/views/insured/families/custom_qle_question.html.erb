<%= render "ui-components/v1/navs/primary_nav.html.slim" %>
<!-- Todo: Make this an angular component 
<qle-questions-responses-form
  qle-kind="<%= @qle.to_json %>"
  qle-kind-questions-and-responses="<%=  @qle_questions_and_responses.to_json %>"
>
</qle-questions-responses-form>
-->

<div class='container top-padding-20px'>
  <%# Form %>
  <div class='panel panel-primary'>
    <div class='panel-heading'>
      <strong>
        Verification Question(s)
      </strong>
    </div>
    <div class='panel-body'>
      <div class="form-group">
        <!-- TODO: This also needs to contain the date of the qualifying life event, as it does for normal QLE kinds -->
        <%= form_with url: verify_custom_qle_question_insured_family_path, scope: 'question_and_responses' do |f| %>
          <%= f.hidden_field(:family_id, value: @family._id.to_s) %>
          <%= f.hidden_field(:qle_kind_id, value: @qle_kind._id.to_s) %>
          <p>Question: <%= @qle_question.content %>
          <%= f.select(
              :end_user_selected_response_content,
              @qle_question.custom_qle_responses.map(&:content),
              {},
              {class: 'response-content-options'}
            )
              %>
          <div class="actions">
            <%= f.submit('Submit', class: 'btn btn-primary') %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
